<html>
<body>
<meta charset="utf-8" />
<title>TestChart</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<canvas id="canv" style="width:500px;height:500px;border:1px solid black;">

</canvas>
<button onclick="dosome()" class="btn btn-primary btn-lg">2Image</button>

<script>
var canvas = document.getElementById("canv");
var ctx = canvas.getContext('2d');

function writeCNN(x,y){
  k = 4

  dim = 50
  var img = new Image()
  img.addEventListener('load', function() {

    ctx.drawImage(img,x,y,100,100)
  });
  img.src = 'CnnBlue.png'


/*
//  ctx.fillStyle='rgba(20,200,20)';
//  ctx.fillRect(begin,
//               begin,
//               begin+dim,
//               begin+dim)

  //lines
  ctx.beginPath()
  ctx.lineWidth=1;
  ctx.fillStyle = 'rgb(20,140,20)'
  ctx.moveTo(begin,begin)
  ctx.lineTo(begin+k,begin-k)
  ctx.lineTo(begin+k+dim+begin,begin-k)
  ctx.lineTo(begin+k+dim+begin,begin+2*k+dim)
  ctx.lineTo(begin+dim+begin,begin+dim+k+begin-3)
  ctx.lineTo(begin+dim+begin,begin-k+dim)
  ctx.lineTo(begin+dim+begin,begin)
  ctx.lineTo(begin,begin)
  ctx.fill();
*/
}

writeCNN(50,50)


function dosome(){
var img = canvas.toDataURL('image/png').replace('image/png','image-octet-stream');
window.location.href=img;
}
</script>
</body>
</html>
